
<script type="text/javascript" language="javascript">
		tt_cancel_destination = "/people/show";

</script>

<style>
  #inputFrame2 {
    height: 85%;
}

#inputFrame2 #viewport {
  height: 90%;
}

.tt_controls_outcome_year #Unknown { display:inline; }

</style>




<%=form_tag '/outcomes' do%>
	<%= hidden_field_tag "encounter[encounter_type_name]", "UPDATE OUTCOME" %>
	<%= hidden_field_tag "encounter[encounter_datetime]", DateTime.now() %>

  <%outcomes = ["", "Died","Transfer Out"]%>
  <%months = Date::MONTHNAMES + ['Unknown']%>

  <%= select_tag("outcome", options_for_select(outcomes ,''),
              :helpText =>"Select outcome",
              :id => "outcome",
              :allowFreeText => false)
  %>


  <%= text_field_tag "outcome_year", nil, {:helpText => 'Outcome Year', 
      :field_type => 'number', 
      :absoluteMin => "1890", :min => "1940", 
      :absoluteMax => Date.today.year, 
      :tt_pageStyleClass => "Numeric NumbersOnly" }  %>

  <%= select_tag "outcome_month",  options_for_select(months ,''), {:helpText => 'Outcome Month', 
      :condition => '$("outcome_year").value.toLowerCase() != "unknown";',
      :tt_onLoad =>"__$('keyboard').style.display = 'none'"}%>

  <%= text_field_tag "outcome_day",  nil, :field_type => 'number', 
      :helpText => 'Outcome Day', 
      :condition => '($("outcome_year").value != "Unknown") && ($("outcome_month").value != "Unknown");', 
      :tt_onLoad => "getDayOfMonthPicker($('outcome_year').value, getMonth($('outcome_month').value))" %>

<%end%>

<script>
  function getMonth(month) {
    var months = [ "January", "February", "March", "April", "May", "June",
                    "July", "August", "September", "October", "November", "December" ];

    return (months.indexOf(month) + 1);
  }

</script>
